# Go build container for WADUP modules
FROM golang:1.23-bookworm

# Create non-root user for security
RUN useradd -m -s /bin/bash builder
USER builder
WORKDIR /build

# Copy build script
COPY --chown=builder scripts/build-go.sh /usr/local/bin/build.sh
RUN chmod +x /usr/local/bin/build.sh

ENTRYPOINT ["/usr/local/bin/build.sh"]
